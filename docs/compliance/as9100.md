# AS9100D Compliance

Aerospace quality management system requirements mapping.

## Overview

| Framework | Version | Readiness |
|-----------|---------|-----------|
| AS9100 | Rev D | **80%** |
| AS9102 | Rev C | ğŸŸ¡ Partial |

AS9100D builds on ISO 9001:2015 with aerospace-specific requirements. This document covers the aerospace additions.

## Aerospace-Specific Requirements

### 8.1 Operational Planning and Control

| Clause | Requirement | Status | Evidence |
|--------|-------------|--------|----------|
| 8.1.1 | Operational risk management | ğŸŸ¡ | CAPA `severity` (CRITICAL, MAJOR, MINOR); auto-escalation for critical | Gap: Formal risk register |
| 8.1.2 | Configuration management | âœ… | Process versioning; SecureModel versioning fields |
| 8.1.3 | Product safety | ğŸŸ¡ | CAPA tracks safety issues; quarantine isolates nonconforming | Gap: Safety-specific classification |
| 8.1.4 | Counterfeit parts prevention | âŒ | - | Gap: Authentication workflow |

### 8.2 Requirements

| Clause | Requirement | Status | Evidence |
|--------|-------------|--------|----------|
| 8.2.3.1 | Review of requirements | âœ… | ApprovalRequest for order review |

### 8.3 Design and Development

| Clause | Requirement | Status | Evidence |
|--------|-------------|--------|----------|
| 8.3.4.1 | Design documentation | âœ… | Documents model with versioning and approval workflow |
| 8.3.6 | Design changes | âœ… | `change_justification` field; approval workflow |

### 8.4 External Providers

| Clause | Requirement | Status | Evidence |
|--------|-------------|--------|----------|
| 8.4.1 | Purchasing control | ğŸŸ¡ | Companies model for supplier records | Gap: AVL management, supplier approval |
| 8.4.3 | Info for external providers | âœ… | Documents associated with Companies; classification controls |

### 8.5 Production and Service Provision

| Clause | Requirement | Status | Evidence |
|--------|-------------|--------|----------|
| 8.5.1.1 | Equipment/tools/software | âœ… | EquipmentUsage tracks equipment per step/part/operator |
| 8.5.1.2 | Special process validation | ğŸŸ¡ | Process/Step models support validation | Gap: Special process qualification records |
| 8.5.1.3 | Production process verification | âœ… | `is_first_piece` flag; `requires_first_piece_inspection` on Steps; FPI workflow with scope options |
| 8.5.2 | Identification and traceability | âœ… | Parts have serial/ERP IDs; StepTransitionLog with operator/timestamp |
| 8.5.4 | Preservation | â¬œ N/A | Physical handling |
| 8.5.5 | Post-delivery activities | ğŸŸ¡ | CAPA customer complaint type | Gap: Warranty tracking, field failure analysis |
| 8.5.6 | Control of changes | âœ… | Immutable approved processes; version control; change justification |

### 8.6 Release of Products

| Clause | Requirement | Status | Evidence |
|--------|-------------|--------|----------|
| 8.6 | Release | âœ… | QaApproval model; `requires_qa_signoff` step flag |

### 8.7 Nonconforming Outputs

| Clause | Requirement | Status | Evidence |
|--------|-------------|--------|----------|
| 8.7 | Nonconforming control | âœ… | QuarantineDisposition with full workflow; customer approval tracking (`requires_customer_approval`, `customer_approval_received`, `customer_approval_reference`, `customer_approval_date`) |

### 9. Performance Evaluation

| Clause | Requirement | Status | Evidence |
|--------|-------------|--------|----------|
| 9.1.1.1 | KPI determination | âœ… | Dashboard KPIs (FPY, scrap rate, CAPA metrics) |
| 9.3 | Management review inputs | âœ… | Dashboard provides audit results, customer feedback, process performance |

### 10. Improvement

| Clause | Requirement | Status | Evidence |
|--------|-------------|--------|----------|
| 10.2.1 | Root cause analysis | âœ… | RcaRecord; FiveWhys; Fishbone with 6M categories |

## First Article Inspection (AS9102)

AS9102 requires three forms for first article approval.

| Form | Purpose | Status | Evidence |
|------|---------|--------|----------|
| Form 1 | Part Number Accountability | ğŸŸ¡ | Parts with serial/ERP; Process versioning; FPI workflow | Need: PDF template |
| Form 2 | Product Accountability | ğŸŸ¡ | Documents model; drawing references | Need: PDF template |
| Form 3 | Characteristic Accountability | ğŸŸ¡ | MeasurementResult with specs; SPC data; StepMeasurementRequirement | Need: PDF template |

### FPI Implementation

The application supports First Piece Inspection with:

- **Step-level FPI toggle**: `Steps.requires_first_piece_inspection`
- **FPI Scope options**: PER_WORK_ORDER, PER_SHIFT, PER_EQUIPMENT, PER_OPERATOR
- **FPIRecord model**: Tracks status (PENDING, PASSED, FAILED, WAIVED), approval, waiver reasons
- **Batch hold**: Parts wait at step until FPI passes

**Key files**: `Tracker/models/mes_lite.py` (Steps), `Tracker/models/qms.py` (FPIRecord)

### 3D Annotation for FAI

The 3D annotation system provides an alternative to traditional 2D ballooned drawings:

- Click on 3D model to place measurement balloons
- Meets AS9102 unique characteristic identification requirements
- Superior visualization compared to PDF markup

**Key files**: `ambac-tracker-ui/src/pages/PartAnnotator.tsx`, `Tracker/models/qms.py` (ThreeDModel, HeatmapAnnotation)

## Configuration Management

### Process Versioning

| Feature | Implementation |
|---------|----------------|
| Version tracking | `Processes.version`, `previous_version` FK |
| Effectivity dates | Process approval workflow |
| Status workflow | DRAFT â†’ PENDING_APPROVAL â†’ APPROVED â†’ DEPRECATED |
| Immutability | Approved processes cannot be modified (serializer enforced) |

### Document Control

| Feature | Implementation |
|---------|----------------|
| Version control | `Documents.version`, `create_new_version()` |
| Change justification | Required field for new versions |
| Status workflow | DRAFT â†’ UNDER_REVIEW â†’ APPROVED â†’ RELEASED â†’ OBSOLETE |
| Review dates | `review_date` with periodic review tracking |

## Nonconformance and Disposition

### Disposition Types

| Type | Code | Use Case |
|------|------|----------|
| Use As Is | USE_AS_IS | Non-conformance doesn't affect function |
| Rework | REWORK | Can be corrected to full conformance |
| Repair | REPAIR | Corrected but may deviate (requires approval) |
| Scrap | SCRAP | Cannot be used or repaired |
| Return to Supplier | RETURN_TO_SUPPLIER | Supplier responsible |

### Customer Approval Workflow

For dispositions requiring customer authorization:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Disposition â”‚â”€â”€â”€â”€â–¶â”‚  Customer   â”‚â”€â”€â”€â”€â–¶â”‚   Execute   â”‚
â”‚  Decision   â”‚     â”‚  Approval   â”‚     â”‚  Decision   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

Fields: `requires_customer_approval`, `customer_approval_received`, `customer_approval_reference`, `customer_approval_date`

## Implementation Gaps

### Priority 0 (Critical)

| Gap | Effort | Notes |
|-----|--------|-------|
| AS9102 Form 1 PDF | 2-3 days | Data ready in Parts/Process models |
| AS9102 Form 2 PDF | 2-3 days | Data ready in Documents model |
| AS9102 Form 3 PDF | 2-3 days | Data ready in MeasurementResult, StepMeasurementRequirement |

### Priority 1 (Important)

| Gap | Effort | Notes |
|-----|--------|-------|
| Counterfeit parts workflow | 3 weeks | Authentication/verification workflow |
| Special process qualification | 2 weeks | Qualification records linked to processes |
| Formal risk register | 2 weeks | Risk assessment model |

### Priority 2 (Enhancement)

| Gap | Effort | Notes |
|-----|--------|-------|
| Supplier AVL management | 3 weeks | Approved vendor list with qualification |
| Field failure analysis | 2 weeks | Warranty/post-delivery tracking |

## Key Files for Auditors

| Capability | Files |
|------------|-------|
| FPI | `Tracker/models/mes_lite.py` (Steps.requires_first_piece_inspection), `Tracker/models/qms.py` (FPIRecord) |
| Process Control | `Tracker/models/mes_lite.py` (Processes, Steps) |
| Traceability | `Tracker/models/mes_lite.py` (Parts), `Tracker/models/qms.py` (StepTransitionLog) |
| Nonconformance | `Tracker/models/qms.py` (QualityReports, QuarantineDisposition) |
| Document Control | `Tracker/models/core.py` (Documents, DocumentType) |
| CAPA | `Tracker/models/qms.py` (CAPA, CapaTasks, RcaRecord, CapaVerification) |

## Related Documentation

- [ISO 9001:2015](iso9001.md) - Base QMS requirements
- [Audit Trails](audit-trails.md) - Traceability requirements
- [Document Control](document-control.md) - Controlled documents
- [Compliance Overview](overview.md) - All frameworks summary
